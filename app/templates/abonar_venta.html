{% extends "base.html" %}
{% block content %}
<div class="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 py-12 px-4">
    <div class="max-w-xl mx-auto">
        <div class="bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-cyan-600 to-blue-700 text-white text-center py-10 px-8">
                <h1 class="text-4xl font-black tracking-tight">ABONAR VENTA</h1>
                <p class="text-6xl font-black mt-3">#{{ venta.id }}</p>
            </div>

            <div class="p-10 space-y-10">
                <!-- Cliente -->
                <div class="text-center">
                    <p class="text-xl font-medium text-slate-600">Cliente</p>
                    <p class="text-3xl font-black text-slate-800 mt-1">{{ venta.cliente.nombre }}</p>
                </div>

                <!-- Resumen financiero -->
                <div class="grid grid-cols-3 gap-5">
                    <div class="bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-5 text-white text-center shadow-md">
                        <p class="text-sm font-medium opacity-90">TOTAL</p>
                        <p class="text-2xl font-black mt-1">${{ "{:,.0f}".format(venta.total) }}</p>
                    </div>
                    <div class="bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl p-5 text-white text-center shadow-md">
                        <p class="text-sm font-medium opacity-90">ABONADO</p>
                        <p class="text-2xl font-black mt-1">${{ "{:,.0f}".format(venta.abonado) }}</p>
                    </div>
                    <div class="bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-5 text-white text-center shadow-md">
                        <p class="text-sm font-medium opacity-90">FALTAN</p>
                        <p class="text-2xl font-black mt-1">${{ "{:,.0f}".format(venta.total - venta.abonado) }}</p>
                    </div>
                </div>

                <form method="POST" class="space-y-10">
                    <!-- Cantidad a abonar -->
                    <div class="text-center">
                        <label class="text-xl font-bold text-slate-700 block mb-4">Cantidad a abonar</label>
                        <input type="number" step="0.01" name="abono"
                               class="w-full max-w-xs mx-auto px-8 py-5 rounded-2xl border-4 border-cyan-400 text-4xl font-black text-center text-slate-800 focus:border-cyan-600 focus:outline-none shadow-inner"
                               placeholder="0.00" min="0.01" max="{{ venta.total - venta.abonado }}" required autofocus>
                    </div>

                    <!-- Método del abono - BOTONES 100% UNIFICADOS -->
                    <div class="bg-slate-100 rounded-2xl p-8">
                        <p class="text-xl font-bold text-slate-700 text-center mb-6">Método de este abono</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <label class="cursor-pointer">
                                <input type="radio" name="metodo_abono" value="efectivo" checked class="sr-only peer">
                                <div class="h-20 flex items-center justify-center bg-white border-3 border-green-500 rounded-xl text-green-600 font-bold text-base leading-tight text-center px-2 peer-checked:bg-green-500 peer-checked:text-white transition-all shadow hover:shadow-md">
                                    EFECTIVO
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="metodo_abono" value="transferencia" class="sr-only peer">
                                <div class="h-20 flex items-center justify-center bg-white border-3 border-blue-500 rounded-xl text-blue-600 font-bold text-base leading-tight text-center px-2 peer-checked:bg-blue-500 peer-checked:text-white transition-all shadow hover:shadow-md">
                                    TRANSFERENCIA
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="metodo_abono" value="deposito" class="sr-only peer">
                                <div class="h-20 flex items-center justify-center bg-white border-3 border-purple-500 rounded-xl text-purple-600 font-bold text-base leading-tight text-center px-2 peer-checked:bg-purple-500 peer-checked:text-white transition-all shadow hover:shadow-md">
                                    DEPÓSITO
                                </div>
                            </label>
                            <label class="cursor-pointer">
                                <input type="radio" name="metodo_abono" value="combinado" class="sr-only peer">
                                <div class="h-20 flex items-center justify-center bg-white border-3 border-orange-500 rounded-xl text-orange-600 font-bold text-base leading-tight text-center px-2 peer-checked:bg-orange-500 peer-checked:text-white transition-all shadow hover:shadow-md">
                                    COMBINADO
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Botones de acción -->
                    <div class="flex justify-center gap-6 pt-6">
                        <button type="submit" class="px-14 py-5 bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-2xl font-black rounded-2xl shadow-xl hover:shadow-cyan-500/50 transition transform hover:scale-105">
                            REGISTRAR ABONO
                        </button>
                        <a href="{{ url_for('sales.ventas') }}" class="px-14 py-5 bg-slate-600 text-white text-2xl font-black rounded-2xl shadow-xl hover:bg-slate-700 transition">
                            CANCELAR
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}